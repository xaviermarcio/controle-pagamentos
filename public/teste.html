<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Teste Firestore</title>
  <script src="https://www.gstatic.com/firebasejs/10.3.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.3.1/firebase-firestore-compat.js"></script>
</head>
<body>
  <h1>Teste Firestore</h1>
  <button id="btn-escrever">Escrever no Firestore</button>
  <button id="btn-ler">Ler do Firestore</button>

  <script>
    // Config Firebase - substitua pelos seus dados
    const firebaseConfig = {
        apiKey: "AIzaSyBaymb31yrmpshykaXUE5y7T1zYiO1DAvc",
        authDomain: "pagamento-a5eec.firebaseapp.com",
        projectId: "pagamento-a5eec",
        storageBucket: "pagamento-a5eec.appspot.com",  // ALTERAÇÃO AQUI
        messagingSenderId: "930598386001",
        appId: "1:930598386001:web:de5a8e33b79fa54b03fb70",
        measurementId: "G-BMSLD92X9Y"
    };

    // Inicializa Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();

    // Escrever um documento teste
    document.getElementById("btn-escrever").onclick = () => {
      db.collection("teste").doc("doc1").set({
        nome: "Marcio",
        criadoEm: new Date().toLocaleString()
      }).then(() => alert("Documento escrito com sucesso!"))
        .catch(e => alert("Erro: " + e));
    };

    // Ler documentos da coleção teste
    document.getElementById("btn-ler").onclick = () => {
      db.collection("teste").get()
        .then(snapshot => {
          let msg = "Documentos encontrados:\n";
          snapshot.forEach(doc => {
            msg += `${doc.id} => ${JSON.stringify(doc.data())}\n`;
          });
          alert(msg);
        })
        .catch(e => alert("Erro: " + e));
    };
  </script>
</body>
</html>

